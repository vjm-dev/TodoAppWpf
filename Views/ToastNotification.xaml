<Window x:Class="TodoAppWpf.Views.ToastNotification"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d"
        Title="ToastNotification"
        Width="400"
        MaxHeight="300"
        SizeToContent="Height"
        AllowsTransparency="True"
        Background="Transparent"
        Topmost="True"
        WindowStyle="None"
        ShowInTaskbar="False"
        Loaded="Window_Loaded">
    <Window.Resources>
        <Storyboard x:Key="SlideInAnimation">
            <ThicknessAnimation
                Storyboard.TargetName="ToastBorder"
                Storyboard.TargetProperty="Margin"
                From="300,0,0,0"
                To="0,0,0,0"
                Duration="0:0:0.5"/>
        </Storyboard>

        <Storyboard x:Key="SlideOutAnimation">
            <ThicknessAnimation
                Storyboard.TargetName="ToastBorder"
                Storyboard.TargetProperty="Margin"
                From="0,0,0,0"
                To="300,0,0,0"
                Duration="0:0:0.5"/>
        </Storyboard>

        <Storyboard x:Key="ProgressBarAnimation">
            <DoubleAnimation
                Storyboard.TargetName="ProgressBar"
                Storyboard.TargetProperty="Width"
                From="300"
                To="0"
                Duration="0:0:5"/>
        </Storyboard>
    </Window.Resources>

    <Border x:Name="ToastBorder" CornerRadius="5" Background="{Binding BackgroundColor}" Margin="300,0,0,0">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="5"/>
            </Grid.RowDefinitions>

            <StackPanel Orientation="Horizontal" Margin="10">
                <TextBlock Text="{Binding IconText}" 
                           FontFamily="Segoe MDL2 Assets" 
                           FontSize="24" 
                           Foreground="White" 
                           Margin="0,0,10,0"
                           VerticalAlignment="Center"/>
                <StackPanel>
                    <TextBlock Text="{Binding ToastTitle}" FontWeight="Bold" Foreground="White" TextWrapping="Wrap"/>
                    <TextBlock Text="{Binding Message}" Foreground="White" TextWrapping="Wrap" MaxHeight="200" ScrollViewer.VerticalScrollBarVisibility="Auto"/>
                </StackPanel>
            </StackPanel>

            <Rectangle x:Name="ProgressBar" Grid.Row="1" Fill="{Binding ProgressColor}" HorizontalAlignment="Left" Height="5"/>
        </Grid>
    </Border>
</Window>

